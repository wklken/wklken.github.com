<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#494f5c">
	<meta name="msapplication-TileColor" content="#494f5c">

<meta itemprop="name" content="简约之美 &amp; 编写可读代码的艺术">
<meta itemprop="description" content="最近陆续收到一些donation, 非常感谢哈, blog的文章说多不多说少不少, 大部分是笔记性质的, 主要目的还是积累以及方便自己查询回顾, 分享">


<meta itemprop="datePublished" content="2014-11-16T08:00:00&#43;08:00" />
<meta itemprop="dateModified" content="2014-11-16T08:00:00&#43;08:00" />
<meta itemprop="wordCount" content="2654">



<meta itemprop="keywords" content="books," />
<meta property="og:title" content="简约之美 &amp; 编写可读代码的艺术" />
<meta property="og:description" content="最近陆续收到一些donation, 非常感谢哈, blog的文章说多不多说少不少, 大部分是笔记性质的, 主要目的还是积累以及方便自己查询回顾, 分享" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.wklken.me/posts/2014/11/16/code-simplicity-and-the-art-of-readable-code.html" />
<meta property="article:published_time" content="2014-11-16T08:00:00&#43;08:00"/>
<meta property="article:modified_time" content="2014-11-16T08:00:00&#43;08:00"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="简约之美 &amp; 编写可读代码的艺术"/>
<meta name="twitter:description" content="最近陆续收到一些donation, 非常感谢哈, blog的文章说多不多说少不少, 大部分是笔记性质的, 主要目的还是积累以及方便自己查询回顾, 分享"/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>简约之美 &amp; 编写可读代码的艺术</title>
	<link rel="stylesheet" href="http://www.wklken.me/css/style.min.31706917653d2b9e8410abd431f30ec4359a88a94fc87a63654779d87329edec.css" integrity="sha256-MXBpF2U9K56EEKvUMfMOxDWaiKlPyHpjZUd52HMp7ew=">
	
	<link rel="stylesheet" href="http://www.wklken.me/css/custom.css">
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp faster">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="http://www.wklken.me">WKLKEN BUILDING</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					<a href="http://www.wklken.me/posts.html">Posts</a>
					<a href="http://www.wklken.me/about.html">About</a>
				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<button id="toc-btn" class="hdr-btn desktop-only-ib" title="Table of Contents"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line></svg></button><span class="hdr-social hide-in-mobile"><a href="https://github.com/wklken" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a href="wklken@gmail.com" target="_blank" rel="noopener me" title="Email"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="http://www.wklken.me/posts.html">Posts</a></li>
			<li><a href="http://www.wklken.me/about.html">About</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Nov 16, 2014</span></div>
				<h1>简约之美 &amp; 编写可读代码的艺术</h1>
			</header>
			<div class="content">
				

<p>最近陆续收到一些donation, 非常感谢哈, blog的文章说多不多说少不少, 大部分是笔记性质的, 主要目的还是积累以及方便自己查询回顾, 分享出来, 希望有所帮助:)</p>

<p>ps: 昨天将国内ip切到gitcafe了, 加载速度应该快了很多, 在此特别感谢下<a href="https://gitcafe.com/">gitcafe</a>. (关于如何国内国外切分访问, google大法)</p>

<p>今天要提的是&lt;&lt;简约之美—软件设计之道&gt;&gt; 以及 &lt;&lt;编写可读代码的艺术&gt;&gt;, 主要原因是, 经典, 更重要的是, 足够薄:), 建议买了珍藏, 也是属于那种不同时期反复读会有不同感受的书</p>

<p>———————————</p>

<h2 id="简约之美">简约之美<a href="#简约之美" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<p>这本书, 用一百页来说明, 软件开发设计中, 一些十分简单的道理.</p>

<p><img src="/imgs/books/code-simplicity.jpg" alt="封面" /></p>

<blockquote>
<p>好的程序员和差的程序员的区别在于理解能力. 差劲的程序员不理解自己做的事情, 优秀的程序员则相反.</p>
</blockquote>

<p><code>理解能力</code>, 看起来蛮虚的一个词, 但是在工作中真正进行沟通时, 你会发现区别非常大, 决定了是<code>一次沟通</code> 还是 <code>反复沟通</code>; 是<code>直达目标</code>, 还是<code>不断曲折</code>; 是一次<code>搞定</code>, 还是<code>改改改</code>; 是<code>反馈有效问题</code>, 还是<code>反馈不是你的问题的问题空耗你的时间</code>. 所以花费时间去理解需求, 想明白之后再开始写代码, 这个很重要! (真正团队干活你会有直观感受的)</p>

<blockquote>
<p>问题的根源通常在于编程&hellip;&hellip;这一切都与复杂性有关&hellip;&hellip;编程就成了把复杂问题化解为简单问题的劳动&hellip;&hellip;”好程序员”应当竭尽全力, 把程序写得让其他程序员容易理解.</p>
</blockquote>

<p>bug的本质, 归根结底在于编程本身.</p>

<p>我们往往容易把问题复杂化(大而全, 追求完美, 过早优化, 过早关注细节), 而过度复杂的后果导致后期代码的难以维护.(所谓的到时候再改/重构, 都是虚妄的), 程序员遇到一坨代码(别人写的或者之前写的), 有优化的冲动, 但是迫于需求或者时间或者系统稳定性, 往往惧怕<code>变化</code>, 这段代码能工作就行.</p>

<p>但是为什么要复杂化呢? 最简单的, 莫过于在最初就做到最好, 不要给自己<code>到时候再重构</code>的念头. 写好每行代码.</p>

<p>这里的<code>其他程序员</code>, 也可能是<code>一个月</code>后的自己. 如果经常发现回头看自己的代码都看不懂, 那么说明进步的余地还是很大的:).</p>

<p>到这里, 我们的目标转向: 寻找提高代码质量的科学方法.</p>

<blockquote>
<p>每个写代码的人都是设计师</p>
</blockquote>

<p>小到一个变量名, 一个判断逻辑, 大到一个函数, 一个类, 一个算法, 从代码里可以感受到很多东西. 拿建筑设计师对比, 写代码, 如同构筑一栋建筑, 不管是小屋/公寓还是摩天大厦, 好的设计永远美好, 而糟糕的设计, 无论大小, 永远丑陋. 很多概念, 意识和技巧在里面.(建议阅读<code>编写可读代码的艺术</code>, 然后是<code>代码大全</code>)</p>

<blockquote>
<p>全部软件都有一个相同的目标: 帮助其他人&hellip;&hellip;不能理解<code>帮助其他人</code>的程序员, 只能写出糟糕的程序, 也就是说, 他们的程序提供不了什么帮助……在做与软件有关的决策时, 指导法则就是判断能够提供什么样的帮助</p>
</blockquote>

<p>同样, 这里的<code>其他人</code>, 可能是你自己.</p>

<p>需求的优先级, 取决于这个需求对于用户帮助的大小.</p>

<p>你这样做/这个功能/这么处理, 对于目标, 对于团队, 对于个人, 有何帮助?
如果没有, 为什么要这么做?</p>

<blockquote>
<p>软件设计科学的目标: 1.确保软件能够提供尽可能多的帮助. 2.确保软件能够持续提供尽可能多的帮助 3.设计程序员能尽可能简单地开发和维护的软件系统. 才能实现1/2</p>
</blockquote>

<p>1代表软件本身的价值, 2代表软件的可维护性可扩展性, 3代表, 好的/简单的设计, 决定了可维护性和可扩展性, 是万丈高楼的地基. 不过1和3, 在有限资源的情况下(资源永远是不够的), 是互相冲突的, 所以要思考如何保持平衡.</p>

<p>这里提到, 软件的开发和维护都应当简单, 要避免困难和复杂.</p>

<blockquote>
<p>软件设计方程式 可取程度=价值/成本  =&gt;  可行性=(当前价值+未来价值)/(实现成本+维护成本)</p>
</blockquote>

<p>当前价值和实现成本往往是可评估的, 人们会关注于这一点, 带来的问题就是忽略了未来价值和维护成本, 这两个和时间相关, 不易评估, 但是却更为重要. 人很容易只着眼于现在而忽略了未来. 所以写代码时需要注意, <code>存在着未来</code>.</p>

<p><code>相比降低实现成本, 降低维护成本更为重要</code>. 很直观的感觉, 一个设计良好的接口, 在需求变更的时候, 只需要动个参数或者动几行代码或者压根不需要改. 而一个糟糕的设计里, 每次需求变更, 会发现需要改动很多代码, 甚至是重写, 连带测试等时间, 你会发现很多时间耗费在里面. 所以应该一开始就理解, 往未来看一眼(预测短期未来是可行的, 预测长期未来是不靠谱的), 再进行设计, 再进行代码.</p>

<blockquote>
<p>变化定律: 程序存在的时间越久, 它的某个部分需要变化的可能性就越高.</p>
</blockquote>

<p>一切都是变化的, 你自己, 还有这个世界.</p>

<p>所以需求变更是必然的:)</p>

<p>之前学到一个很重要的观点: <code>拥抱变化</code>.</p>

<blockquote>
<p>软件设计三大误区: 1.编写不必要的代码 2.代码难以修改 3.过分追求通用</p>
</blockquote>

<p>YAGIN, <code>不要编写不是必须的代码, 并且要删除没有用到的代码</code>. 版本库干嘛用的? 提交, 然后删除那些没用的, 然后再提交:)</p>

<p>僵化设计的原因: 1.对未来做了太多假设(&hellip;&hellip;) 2.不仔细设计就编写代码(新手需注意). <code>设计程序时, 应当根据你现在确切知道的需求, 而不是你认为未来会出现的需求</code></p>

<p>避免过度设计: 仅仅根据目前确知的需求来考虑通用.</p>

<blockquote>
<p>缺陷概率定律: 在程序中新增缺陷的可能性与代码修改量成正比</p>
</blockquote>

<p>好的设计, 代码少(很大可能), 代码变更少, 而糟糕的设计, 反之. 从而, bug出现的概率显而易见</p>

<blockquote>
<p>最好的设计, 就是能够适应外界尽可能多的变化. 而软件自身的变化要尽可能少.</p>
</blockquote>

<p>不变应万变, 追求之</p>

<blockquote>
<p>永远不要<code>修正</code>任何东西, 除非它真的可能有问题, 而且有证据表明问题确实存在.</p>
</blockquote>

<p>例如: “过早优化”!</p>

<p>当问题成为问题的时候, 才是问题, 才需要去处理!</p>

<blockquote>
<p>理想情况下, 任何系统里的任何信息, 都应当只存在一次.</p>
</blockquote>

<p>避免重复. 变更时代价最小.</p>

<blockquote>
<p>简洁定律: 软件任何一部分的维护难度, 反比于该部分的简洁程度.</p>
</blockquote>

<p>简洁是相对的.</p>

<p>保持一致/可读性(代码被阅读的次数远远多于编写和修改的次数)/命名/注释(代码的意图通常不应该用注释来说明, 直接阅读代码就应当能够理解)</p>

<blockquote>
<p>复杂性是会叠加的, 而不是简单的线性叠加</p>
</blockquote>

<p>问题复杂, 解法不一定复杂.</p>

<p>解决复杂性: 把它分解成独立的小部分, 并进行重新设计.</p>

<blockquote>
<p>测试法则: 你对软件行为的了解程度, 等于你真正测试它的程度&hellip;&hellip;除非亲自测试过, 否则你不知道软件是否能正常运行.</p>
</blockquote>

<p>about test.</p>

<h2 id="编写可读代码的艺术">编写可读代码的艺术<a href="#编写可读代码的艺术" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<p>关于如何编写高质量可读的代码的方法论:)</p>

<p><img src="/imgs/books/the-art-of-readable-code.jpg" alt="封面" /></p>

<p>&lt;<The Art of Readable Code\>&gt;, 这本书就不细写了, 因为不到两百页, 几乎每一页都是干货.</p>

<p>强烈推荐.</p>

<p>代码大全太厚, &lt;<Clean Code\>&gt;太晦涩, 建议来读这本. 本次总能得到一些感悟.</p>

			</div>
			<hr class="post-end">
			<footer class="post-info">
				<p>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="http://www.wklken.me/tags/books.html">books</a></span>
				</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>2654 Words</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2014-11-16 08:00 &#43;0800</p>
			</footer>
		</article>
		<aside id="toc">
			<div class="toc-title">Table of Contents</div>
			<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#简约之美">简约之美</a></li>
<li><a href="#编写可读代码的艺术">编写可读代码的艺术</a></li>
</ul></li>
</ul>
</nav>
		</aside>
		<div class="post-nav thin">
			<a class="next-post" href="http://www.wklken.me/posts/2014/11/16/unit-statistics-system.html">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;Newer</span><br><span>基于 PostgreSQL 的数据统计系统</span>
			</a>
			<a class="prev-post" href="http://www.wklken.me/posts/2014/11/09/rework.html">
				<span class="post-nav-label">Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span>重读Rework</span>
			</a>
		</div>
    <a href="https://www.vultr.com/?ref=7825696-4F"><img src="https://www.vultr.com/media/banners/banner_468x60.png" width="468" height="60"></a>
		<div id="comments" class="thin">
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "wklken" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2019 <a href="http://www.wklken.me">wklken</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="http://www.wklken.me/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>


	<script src="http://www.wklken.me/js/main.min.784417f5847151f848c339cf0acb13a06cbb648b1483435a28ed4556c4ead69b.js" integrity="sha256-eEQX9YRxUfhIwznPCssToGy7ZIsUg0NaKO1FVsTq1ps="></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-42275748-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</body>

</html>
